<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<link type="text/css" rel="stylesheet" href='style.css'/>
        <script src='https://code.jquery.com/jquery-2.1.3.js'></script>
        <script src='scroll_flight.js'></script>
</head>
<body>
	
<div id='container1' class='scroller'>
	<div id='widget1' class='scroller'>First Widget</div>
</div>

<div id='container2' class='scroller'>
  <div id='widget2' class='scroller' data-affix-top="0" data-arrived="40%">I'm a widget</div>
</div>

<div id='container3' class='scroller'>
	<div id='widget3' class='scroller'>I'm a widgeter</div>
</div>

<div id='container4' class='scroller'>
	<div id='widget4' class='scroller'>I'm a widgeter</div>
</div>



<script>

$(".scroller").scrollFlight();

$("#widget1").on("arrived",function() {
    $(this).addClass("arrived");
});

$("#widget2").on("update",function(e,pos) {
    if($(this).flightState() == "arrived") {
      var scale = pos * 5;
      console.log(scale);
      $(this).css({ transform: "scale(" + scale + ")" });
    }
})

$("#widget2").on("arrived",function() {
    $(this).addClass("arrived");
});

$("#widget2").on("departing",function() {
    $(this).css({ transform: "scale(1)" });
    $(this).affix();
});

$("#container3").on("departing",function() {
    $("#widget2").unaffix();
});

</script>


</body>
</html>
